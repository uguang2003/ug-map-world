# èŠåŠ æ˜Œæ•°å­—å­ªç”Ÿ (ZJC-3D)

> åŸºäº Mars3D å’Œ Vue 3 æ„å»ºçš„èŠåŠ æ˜Œï¼ˆå—æ˜Œï¼‰æ•°å­—å­ªç”Ÿç³»ç»Ÿ

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

èŠåŠ æ˜Œæ•°å­—å­ªç”Ÿæ˜¯ä¸€ä¸ªåŸºäºç°ä»£ Web æŠ€æœ¯æ ˆæ„å»ºçš„ä¸‰ç»´æ•°å­—å­ªç”Ÿå¹³å°ï¼Œä¸“æ³¨äºå±•ç¤ºå’Œç®¡ç†èŠåŠ æ˜Œï¼ˆå—æ˜Œï¼‰åœ°åŒºçš„åœ°ç†ä¿¡æ¯å’Œç©ºé—´æ•°æ®ã€‚é¡¹ç›®é‡‡ç”¨ Mars3D ä¸‰ç»´å¼•æ“ã€Vue 3 æ¡†æ¶å’Œ TypeScript è¯­è¨€å¼€å‘ï¼Œæä¾›é«˜æ€§èƒ½çš„ä¸‰ç»´å¯è§†åŒ–ä½“éªŒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸŒ **ä¸‰ç»´åœ°çƒå±•ç¤º** - åŸºäº Mars3D å’Œ Cesium çš„é«˜æ€§èƒ½ä¸‰ç»´æ¸²æŸ“
- ğŸ—ºï¸ **å¤šåœ°å›¾åº•å›¾æ”¯æŒ** - æ”¯æŒç™¾åº¦ã€é«˜å¾·ã€è°·æ­Œã€å¤©åœ°å›¾ç­‰å¤šç§åœ°å›¾æº
- ğŸ“ **å›¾å½¢æ ‡æ³¨åŠŸèƒ½** - æ”¯æŒç‚¹ã€çº¿ã€é¢ç­‰å¤šç§å›¾å½¢çš„ç»˜åˆ¶å’Œç¼–è¾‘
- ğŸ“· **ç›¸æœºè§†è§’ç®¡ç†** - æ”¯æŒå¤šä¸ªé¢„è®¾è§†è§’çš„ä¿å­˜å’Œåˆ‡æ¢
- ğŸ¬ **åŠ¨ç”»æ•ˆæœ** - æ”¯æŒé£è¡Œè·¯çº¿ã€ç¼©æ”¾åŠ¨ç”»ç­‰åŠ¨æ€æ•ˆæœ
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¾å¤‡
- ğŸ”§ **ç»„ä»¶åŒ–å¼€å‘** - åŸºäº Vue 3 çš„ç»„ä»¶åŒ–æ¶æ„ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **ä¸‰ç»´å¼•æ“**: Mars3D + Cesium
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼è¯­è¨€**: Less
- **ç©ºé—´åˆ†æ**: Turf.js

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
zjc-3d/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ img/              # å›¾ç‰‡èµ„æº
â”‚       â”œâ”€â”€ basemaps/     # åº•å›¾å›¾æ ‡
â”‚       â”œâ”€â”€ marker/       # æ ‡è®°å›¾æ ‡
â”‚       â””â”€â”€ textures/     # çº¹ç†è´´å›¾
â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”œâ”€â”€ components/       # Vue ç»„ä»¶
â”‚   â”‚   â””â”€â”€ mars-work/   # Mars3D ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ App.vue          # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.ts          # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ style.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html            # HTML æ¨¡æ¿
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScript é…ç½®
â””â”€â”€ vite.config.ts        # Vite é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 7.0.0 æˆ– yarn >= 1.22.0

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–
npm run serve
```

è®¿é—® http://localhost:5173 æŸ¥çœ‹é¡¹ç›®

### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

## ğŸ”§ é…ç½®è¯´æ˜

### åœ°å›¾é…ç½®

åœ°å›¾ç›¸å…³é…ç½®ä½äº `public/config/config.json` æ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š

- é»˜è®¤è§†è§’ä½ç½®
- åº•å›¾å›¾å±‚é…ç½®
- åœ°å½¢æ•°æ®æº
- å½±åƒå›¾å±‚è®¾ç½®

### åº•å›¾æ”¯æŒ

é¡¹ç›®å·²é›†æˆå¤šç§åº•å›¾èµ„æºï¼š

- **å›½å†…åœ°å›¾**: ç™¾åº¦åœ°å›¾ã€é«˜å¾·åœ°å›¾ã€å¤©åœ°å›¾ã€è…¾è®¯åœ°å›¾
- **å›½å¤–åœ°å›¾**: Google Mapsã€ArcGISã€Bing Mapsã€Mapbox
- **å¼€æºåœ°å›¾**: OpenStreetMapã€Stamen åœ°å›¾
- **ç¦»çº¿åœ°å›¾**: æ”¯æŒæœ¬åœ°ç¦»çº¿åº•å›¾

## ğŸ“– æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. åœ°å›¾ç»„ä»¶ (mars-map.vue)

ä¸»è¦çš„ä¸‰ç»´åœ°å›¾å±•ç¤ºç»„ä»¶ï¼Œè´Ÿè´£åœ°å›¾çš„åˆå§‹åŒ–ã€è§†è§’æ§åˆ¶å’ŒåŸºç¡€äº¤äº’ã€‚

### 2. å›¾å½¢ç»˜åˆ¶æ¨¡å—

- **CanvasBillboard.js**: Canvas ç”»å¸ƒå¹¿å‘Šç‰ŒåŠŸèƒ½
- **æ ‡è®°ç³»ç»Ÿ**: æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡çš„ç‚¹æ ‡è®°

### 3. ä»»åŠ¡æ¨¡å—

- **CameraList.js**: ç›¸æœºè§†è§’åˆ—è¡¨ç®¡ç†
- **CameraView.js**: ç›¸æœºè§†è§’åˆ‡æ¢
- **RouteLine.js**: è·¯çº¿è§„åˆ’å’Œå±•ç¤º
- **MapRotate.js**: åœ°å›¾æ—‹è½¬åŠ¨ç”»
- **ZoomIn/ZoomOut.js**: ç¼©æ”¾åŠ¨ç”»æ•ˆæœ
- **FlickerEntity.js**: å®ä½“é—ªçƒæ•ˆæœ
- **PointRotate.js**: ç‚¹ä½æ—‹è½¬åŠ¨ç”»

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€åœ°å›¾åˆå§‹åŒ–

```typescript
import { ref, onMounted } from "vue";
import * as mars3d from "mars3d";

const mapInstance = ref<mars3d.Map>();

onMounted(() => {
  // åˆå§‹åŒ–åœ°å›¾
  mapInstance.value = new mars3d.Map("map-container", {
    scene: {
      center: { lat: 28.682892, lng: 115.858197, alt: 50000 },
    },
  });
});
```

### æ·»åŠ å›¾å½¢æ ‡æ³¨

```typescript
// æ·»åŠ ç‚¹æ ‡è®°
const addMarker = (position: any) => {
  const graphic = new mars3d.graphic.BillboardEntity({
    position: position,
    style: {
      image: "/img/marker/mark-blue.png",
      scale: 1,
      horizontalOrigin: Cesium.HorizontalOrigin.CENTER,
      verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
    },
  });

  mapInstance.value?.graphicLayer.addGraphic(graphic);
};
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº Apache-2.0 åè®®å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- **ä½œè€…**: UG
- **é‚®ç®±**: uguang2003@gmail.cn
- **ä¸»é¡µ**: https://ug666.top/
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/uguang2003/ZJC-3D/issues)

## ğŸ™ è‡´è°¢

- [Mars3D](http://mars3d.cn/) - åŸºäº Cesium çš„ä¸‰ç»´åœ°çƒæ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Cesium](https://cesium.com/) - å¼€æºä¸‰ç»´åœ°çƒå’Œåœ°å›¾å¼•æ“
- [Vite](https://vitejs.dev/) - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·

---

ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
